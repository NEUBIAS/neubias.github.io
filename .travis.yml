language: node_js
branches:
  only:
  - source
node_js:
- '7'
before_install:
- rvm install 2.4.0
before_script:
- npm i -g gulp-cli
- npm install
- gem install bundler
- bundle install
script:
- gulp build-clean  --production
after_success:
- git clone https://$GITHUB_REPO
- git branch
- cd $(basename ${GITHUB_REPO%.git})
- git config user.name "Travis CI"
- git config user.email "travis@travis-ci.org"
- rsync -az --delete --exclude '.git*' ../_site/ .
- touch .nojekyll
- git add -A .
- git commit -m "Generated Jekyll site by Travis CI - ${TRAVIS_BUILD_NUMBER}"
- git push --force "https://user:${GH_TOKEN}@${GITHUB_REPO}" HEAD:${REPO_TARGET_BRANCH}
env:
  global:
  - NOKOGIRI_USE_SYSTEM_LIBRARIES=true
  - GITHUB_REPO: github.com/neubias/neubias.github.io
  - REPO_TARGET_BRANCH: master
  - secure: sIcUAareUlxRKDFbKPR9UeIMO8nXoQYl02iKCBDpm27ey91Y69/XTFPtKG9Ojd2qof500vLl/ga06JkmRUUmqSCktuEon1w5eTmXoTvoj3xDV36v3cRK3OhWfCSIaQvfhIrDuQlmPL0gL+qsDsnaxTkvWupeB8zFD/1sDhmxYZSG7/HsjBF0+aBuSpfxfUzrzTTLHUbVc7wOjpqKn5blCSJ2McpRXl9XO1tR8rDZC4SwuWe/UHZQo6Y5H999D3MiLM8vDThf/BbZlu7n4wInMVB5tQUsppFzUu9EgsMiUp7ux5W2dJ9kSnb4NrGMyyvvtZfXoKavzmDs1UktrElpcG+cDiCGT6al+KLg0ddQu8ld9pUvxPsU7oDAVE386LGKQAT0ezF3wD6bXazyc5UtY//Dppoe1q2JyOwtoa28lueH/Sqb1zoLnFHlkBn42bOshz07IZQX7V2eMUcVKoredgw6iJlZ0RMoUVlp1kxB1x67owOsfE4Wi+iNu88xXBnixVHHDEZFoPl1d1dl0Rk8sU98XfXOKNlSLHlcEdmUGdvPCpuXAalCp5d3QYIezba7r1oe2Tkdk5zLRn1fBBiGPxjdnGD2agCVKf59WWmKFcmqUZMI/GKsbKsgs0Pj+4hP2wMLUHxWPezwSUNb4IhdW+P+iCfkB8wWJT6X+gu5lU8=
